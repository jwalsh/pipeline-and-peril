graph TD
    %% Player Turn Flow
    Start([Start Turn]) --> Traffic[Roll 2d10 for Traffic]
    Traffic --> Distribute[Distribute Load Tokens]
    Distribute --> Actions[Player Actions x3]
    
    Actions --> Build[Build Service]
    Actions --> Connect[Connect Services]
    Actions --> Allocate[Allocate Resources]
    Actions --> Debug[Debug Services]
    Actions --> Scale[Scale Service]
    
    Build --> Resolution
    Connect --> Resolution
    Allocate --> Resolution
    Debug --> Resolution
    Scale --> Resolution
    
    Resolution[Resolution Phase] --> ServiceCheck{Service Check}
    ServiceCheck -->|Pass| Success[Handle Load]
    ServiceCheck -->|Fail| Cascade[Cascade Failure]
    
    Success --> Latency[Roll d12 for Latency]
    Cascade --> Latency
    
    Latency --> Chaos[Chaos Phase]
    Chaos --> ChaosRoll[Roll d8]
    ChaosRoll --> ChaosEffect[Apply Effect]
    
    ChaosEffect --> EndTurn{End Turn}
    EndTurn -->|More Rounds| Start
    EndTurn -->|Game End| Victory{Check Victory}
    
    %% Service States
    subgraph Service States
        Healthy[Healthy Service]
        Degraded[Degraded Service]
        Failed[Failed Service]
        
        Healthy -->|Bug| Degraded
        Degraded -->|Debug| Healthy
        Degraded -->|Overload| Failed
        Failed -->|Repair| Degraded
    end

    style Start fill:#90EE90
    style Victory fill:#FFD700
    style Failed fill:#FF6B6B
    style Chaos fill:#FF8C00